<!DOCTYPE html>
<html>

  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width initial-scale=1" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <title>iOS UI适配及协作约定</title>
    <meta name="description" content="Simplicity is the ultimate sophistication.
">

    <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet">

    <link rel="stylesheet" href="/css/main.css">
    <link rel="canonical" href="/design/2015/01/08/iOS%20UI%E9%80%82%E9%85%8D%E5%8F%8A%E5%8D%8F%E4%BD%9C%E7%BA%A6%E5%AE%9A.html">
</head>


  <body>

    <header class="site-header">

  <div class="wrapper">

    <a class="site-title" href="/">Jowyer's Blog</a>

    <nav class="site-nav">
      <a href="#" class="menu-icon">
        <svg viewBox="0 0 18 15">
          <path fill="#424242" d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.031C17.335,0,18,0.665,18,1.484L18,1.484z"/>
          <path fill="#424242" d="M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0c0-0.82,0.665-1.484,1.484-1.484 h15.031C17.335,6.031,18,6.696,18,7.516L18,7.516z"/>
          <path fill="#424242" d="M18,13.516C18,14.335,17.335,15,16.516,15H1.484C0.665,15,0,14.335,0,13.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.031C17.335,12.031,18,12.696,18,13.516L18,13.516z"/>
        </svg>
      </a>

      <div class="trigger">
        
          
          <a class="page-link" href="/contact/">Contact</a>
          
        
          
          <a class="page-link" href="/about/">About</a>
          
        
          
        
          
        
          
        
      </div>
    </nav>

  </div>

</header>


    <div class="page-content">
      <div class="wrapper">
        <div class="post">

  <header class="post-header">
    <h1 class="post-title">iOS UI适配及协作约定</h1>
    <p class="post-meta">Jan 8, 2015</p>
  </header>

  <article class="post-content">
    <h2 id="section">名词解释</h2>
<ul>
  <li>px: pixel像素</li>
  <li>pt: point点</li>
  <li>Portrait: 竖屏</li>
  <li>Landscape: 横屏</li>
  <li>全屏图元：<strong>宽度</strong> 或者 <strong>高度</strong> 或者 <strong>两者同时</strong> 撑满整个屏幕的图元</li>
</ul>

<h2 id="section-1">分辨率</h2>

<p><img src="/images/UI_1.png" alt="Alert" /></p>

<h2 id="app-icon-">App Icon 应用图标</h2>

<p><img src="/images/UI_2.png" alt="Alert" /></p>

<p>例：iPhone iOS 7/8: 60pt，需要2张图<br />
Icon60@2x.png  — 120×120(px)<br />
Icon60@3x.png  — 180×180(px)</p>

<h2 id="launch-image-">Launch Image 启动图</h2>
<p>(Deprecated)</p>

<p>之后会使用<a href="https://developer.apple.com/library/ios/documentation/IDEs/Conceptual/AppDistributionGuide/ConfiguringYourApp/ConfiguringYourApp.html#//apple_ref/doc/uid/TP40012582-CH28-SW3">Launch Screen File</a>。</p>

<h2 id="section-2">设计建议</h2>

<ol>
  <li>
    <p>视觉设计阶段，设计师按宽度750px（iPhone 6）做设计稿，除图片外所有设计元素用矢量路径来做。设计定稿后在750px的设计稿上做标注，输出<strong>标注图</strong>。同时等比放大1.5倍生成宽度1125px的设计稿，在1125px的稿子里切图。<br />
注意：750×1334-&gt;放大1.5倍-&gt;1125×2001，在这个尺寸而非1242×2208下切@3x图。</p>
  </li>
  <li>
    <p>输出<code>两个交付物</code>给开发工程师：一个是程序用到的<strong>切图资源</strong>，另一个是宽度750px的设计<strong>标注图</strong>。</p>
  </li>
  <li>
    <p>开发工程师拿到750px<strong>标注图</strong>和<strong>切图资源</strong>，完成iPhone 6（375pt）的界面开发。此阶段不能用固定宽度的方式开发界面，得用自动布局（Auto Layout），方便后续适配到其它尺寸。</p>
  </li>
  <li>
    <p>适配调试阶段，基于iPhone 6的界面效果，分别向上向下调试iPhone 6 Plus（414pt）和iPhone 5s及以下（320pt）的界面效果。由此完成大中小三屏适配。</p>
  </li>
</ol>

<h2 id="section-3">适配规则</h2>
<p>如上述选择iPhone 6作为基准设计尺寸，然后通过一套规则去适配其他的尺寸：</p>

<ol>
  <li>
    <p>文字流式Fluid</p>
  </li>
  <li>
    <p>控件弹性Flexible</p>
  </li>
  <li>
    <p>图片等比缩放Scalable </p>
  </li>
</ol>

<p><img src="http://pic4.zhimg.com/feffdcc6023e2f17e9000d2e70a34d91_b.jpg" alt="" /></p>

<p>按照此适配规则，大中小三种屏幕显示效果均相同。有时候想在大屏幕显示更多内容，需要设计出特殊适配效果。<br />
比如App Store首页的焦点图和应用列表，iPhone 6 Plus相比iPhone 6能显示更多的内容，真正体现了大屏幕显示更多内容的理念，这就需要设计师给出对应不同的设计稿。</p>

<p><img src="http://pic1.zhimg.com/896c935642bdac91555d3075ee61e3b8_b.jpg" alt="" /></p>

<h2 id="section-4">标注图要求</h2>
<ol>
  <li>
    <p>确定app需要支持的屏幕状态及需要适配的设备，适配UI布局，交付对应的标注图。</p>

    <p>1.1 依据app的需求，确定每个界面具有的屏幕状态，分为1~4组。<br />
 A. iPhone Portrait           — iPhone竖屏<br />
 B. iPhone Landscape     — iPhone横屏<br />
 C. iPad     Portrait           — iPad竖屏<br />
 D. iPad     Landscape     — iPad横屏<br />
 1.2 A/B/C/D组中，再依据所需适配机型的不同pt分辨率，出1~5张的标注图。<br />
 a. 320×480pt — iPhone 4/4s<br />
 b. 320×568pt — iPhone 5/5s/5c<br />
 c. 375×667pt — iPhone 6<br />
 d. 414×736pt — iPhone 6 Plus<br />
 e. 768×1024pt — iPad<br />
如需求为：iPhone Portrait &amp; Landscape，适配iPhone 5及以上设备，一个login的界面最多需要出具2×3=6张标注图。</p>
  </li>
  <li>确定app是否需要隐藏状态栏。做标注图的时候切记状态栏有<strong>20pt</strong>的高度。</li>
  <li>将标注图中所有用到的颜色，以<strong>RGBA</strong>值的形式标注在图上对应位置。</li>
</ol>

<h2 id="section-5">切图规则</h2>
<ol>
  <li>通过app所要支持的设备(iPhone/iPad)，最低支持的系统(iOS7+)，确定所需@1x，@2x，@3x的图。<br />
如iOS7+，iPhone only的app可以不考虑@1x的图。</li>
  <li>除<strong>全屏图元</strong>外的所有图元，依据app需求制作相应的@1x，@2x，@3x版本，格式为<strong>png</strong>。命名规则如下：<br />
@1x：login.png          — 11×12(px)<br />
@2x：login@2x.png   — 22×24(px)<br />
@3x：login@3x.png   — 33×36(px)<br />
原则上图元从大做小，<strong>@3x图</strong>的宽和高都要保证能够<code>被3除尽</code>。</li>
  <li><strong>全屏图元</strong>多为背景，须保存为<strong>jpg</strong>格式，而不是png，以节省空间。</li>
  <li>按钮类和分割线类自身可重复的图元，程序员通过<a href="https://developer.apple.com/library/ios/recipes/xcode_help-image_catalog-1.0/chapters/SlicinganImage.html">tiled+image slicing</a>的方式来实现自适应，截取<strong>最小可用尺寸</strong>就可以了。</li>
  <li>当按钮类的图元需要制作“普通”和“按下”两种效果时，命名规则以 _button_normal 和 _button_highlighted 结尾。例如：<br />
login_button_normal.png<br />
login_button_normal@2x.png<br />
login_button_highlighted.png<br />
login_button_highlighted@2x.png</li>
  <li>整个app中不能出现命名相同的图元。请以正确的英文命名，不知道的请谷歌或者百度。</li>
  <li>非特殊情况，图元上都不要加文字，文字由程序员负责实现。</li>
</ol>

<h2 id="reference">Reference</h2>
<p><a href="http://www.zhihu.com/question/25308946">手机淘宝团队适配协作模式</a></p>

<p><a href="http://www.paintcodeapp.com/news/iphone-6-screens-demystified">iPhone图像渲染揭秘</a></p>

<p><a href="http://www.paintcodeapp.com/news/ultimate-guide-to-iphone-resolutions">iPhone分辨率终极指导</a></p>

<p><a href="http://www.zhihu.com/question/25361043">iOS屏幕分辨率对比</a></p>

<p><a href="http://www.apple.com/cn/iphone/compare/">iPhone机型比较</a></p>


  </article>

</div>

      </div>
    </div>

    <footer class="site-footer">

  <div class="wrapper">

    <div class="footer-col-wrapper">
      <div class="footer-col  footer-col-1">
        <ul class="contact-list">
          <li>Copyright © 2015 - Jowyer Wang</li> 
        </ul>
      </div>

      <div class="footer-col  footer-col-2">
        
      </div>

      <div class="footer-col  footer-col-3">
        <p class="text">Simplicity is the ultimate sophistication.
</p>
      </div>
    </div>

  </div>

</footer>

    <script>
  var anchorForId = function (id) {
    var anchor = document.createElement("a");
    anchor.className = "header-link";
    anchor.href      = "#" + id;
    anchor.innerHTML = "<i class=\"fa fa-link\"></i>";
    return anchor;
  };

  var linkifyAnchors = function (level, containingElement) {
    var headers = containingElement.getElementsByTagName("h" + level);
    for (var h = 0; h < headers.length; h++) {
      var header = headers[h];

      if (typeof header.id !== "undefined" && header.id !== "") {
        header.appendChild(anchorForId(header.id));
      }
    }
  };

  document.onreadystatechange = function () {
    if (this.readyState === "complete") {
      var contentBlock = document.getElementsByClassName("post")[0];  //  || document.getElementsByClassName("page")[0] 
      if (!contentBlock) {
        return;
      }
      for (var level = 1; level <= 6; level++) {
        linkifyAnchors(level, contentBlock);
      }
    }
  };
</script>


  </body>

</html>
